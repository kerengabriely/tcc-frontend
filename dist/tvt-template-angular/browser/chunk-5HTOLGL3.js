import{Ka as h,M as d,R as o,dc as m,i as s}from"./chunk-4EPYZPYR.js";var c=class i{constructor(e,r){this.rendererFactory=e;this.document=r;this.colorScheme="";this.themes=[{name:"lara-light-blue",displayName:"Light Mode",isDark:!1},{name:"lara-dark-blue",displayName:"Dark Mode",isDark:!0},{name:"bootstrap4-light-blue",displayName:"Bootstrap Light",isDark:!1},{name:"bootstrap4-dark-blue",displayName:"Bootstrap Dark",isDark:!0},{name:"md-light-indigo",displayName:"Material Light",isDark:!1},{name:"md-dark-indigo",displayName:"Material Dark",isDark:!0}];this.currentThemeSubject=new s(this.themes[0]);this.currentTheme$=this.currentThemeSubject.asObservable();this.isDarkModeSubject=new s(!1);this.isDarkMode$=this.isDarkModeSubject.asObservable();this.renderer=this.rendererFactory.createRenderer(null,null),this.initializeTheme()}initializeTheme(){this.document.querySelectorAll("link[data-theme]").forEach(t=>t.remove());let r=localStorage.getItem("app-theme"),n=localStorage.getItem("app-dark-mode")==="true";if(r){let t=this.themes.find(a=>a.name===r)||this.themes[0];this.switchTheme(t),this.isDarkModeSubject.next(n)}else{let t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;this.toggleDarkMode(t)}window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem("app-theme")||this.toggleDarkMode(t.matches)})}switchTheme(e){this.currentThemeSubject.next(e),this.isDarkModeSubject.next(e.isDark),this.updateBodyClass(e.isDark),localStorage.setItem("app-theme",e.name),localStorage.setItem("app-dark-mode",e.isDark.toString())}toggleDarkMode(e){let r=this.currentThemeSubject.value,t=(e!==void 0?e:!r.isDark)?this.themes.find(a=>a.isDark&&a.name.includes("lara"))||this.themes[1]:this.themes.find(a=>!a.isDark&&a.name.includes("lara"))||this.themes[0];this.switchTheme(t)}updateBodyClass(e){e?(this.renderer.addClass(this.document.body,"dark-theme"),this.renderer.removeClass(this.document.body,"light-theme")):(this.renderer.addClass(this.document.body,"light-theme"),this.renderer.removeClass(this.document.body,"dark-theme"))}getCurrentTheme(){return this.currentThemeSubject.value}isDarkMode(){return this.isDarkModeSubject.value}static{this.\u0275fac=function(r){return new(r||i)(o(h),o(m))}}static{this.\u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})}};export{c as a};
